<Window x:Class="FlashTelemetry.UI.RadioSettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Team Radio"
        Width="900" Height="700"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="12" MinWidth="820">

                <GroupBox Header="Audio" Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="160"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Text="Salida:"/>
                        <ComboBox Grid.Row="0" Grid.Column="1" x:Name="CmbOutput" Margin="0,2,8,2" Height="28"/>
                        <Button Grid.Row="0" Grid.Column="2" x:Name="BtnTestVoice" Content="Test voz" Width="120" Height="28" Margin="0,2,0,2"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Text="Entrada:"/>
                        <ComboBox Grid.Row="1" Grid.Column="1" x:Name="CmbInput" Margin="0,2,0,2" Height="28"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Text="Volumen TTS:"/>
                        <Slider Grid.Row="2" Grid.Column="1" x:Name="SldTtsVol" Minimum="0" Maximum="1" TickFrequency="0.05" IsSnapToTickEnabled="False" Margin="0,6,0,6"/>

                        <TextBlock Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" Text="Volumen pitidos:"/>
                        <Slider Grid.Row="3" Grid.Column="1" x:Name="SldBeepVol" Minimum="0" Maximum="1" TickFrequency="0.05" IsSnapToTickEnabled="False" Margin="0,6,0,6"/>
                    </Grid>
                </GroupBox>

                <GroupBox Header="Discord (hotkeys globales)" Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="160"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Text="Acción al abrir:"/>
                        <ComboBox Grid.Row="0" Grid.Column="1" x:Name="CmbDiscordAction" Height="28" Margin="0,2,0,8"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Text="Hotkey mute:"/>
                        <TextBox Grid.Row="1" Grid.Column="1" x:Name="TxtMuteHotkey" Height="28" Margin="0,2,8,2"/>
                        <Button Grid.Row="1" Grid.Column="2" x:Name="BtnTestMute" Content="Test" Width="120" Height="28" Margin="0,2,0,2"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Text="Hotkey deafen:"/>
                        <TextBox Grid.Row="2" Grid.Column="1" x:Name="TxtDeafenHotkey" Height="28" Margin="0,2,8,2"/>
                        <Button Grid.Row="2" Grid.Column="2" x:Name="BtnTestDeafen" Content="Test" Width="120" Height="28" Margin="0,2,0,2"/>
                    </Grid>
                </GroupBox>

                <GroupBox Header="Sonidos (OPEN/CLOSE)" Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="160"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Text="OPEN WAV:"/>
                        <TextBox Grid.Row="0" Grid.Column="1" x:Name="TxtOpenWav" Height="28" Margin="0,2,8,2"/>
                        <Button Grid.Row="0" Grid.Column="2" x:Name="BtnPickOpenWav" Content="Elegir" Width="120" Height="28" Margin="0,2,6,2"/>
                        <Button Grid.Row="0" Grid.Column="3" x:Name="BtnTestOpenWav" Content="Test" Width="120" Height="28" Margin="0,2,0,2"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Text="CLOSE WAV:"/>
                        <TextBox Grid.Row="1" Grid.Column="1" x:Name="TxtCloseWav" Height="28" Margin="0,2,8,2"/>
                        <Button Grid.Row="1" Grid.Column="2" x:Name="BtnPickCloseWav" Content="Elegir" Width="120" Height="28" Margin="0,2,6,2"/>
                        <Button Grid.Row="1" Grid.Column="3" x:Name="BtnTestCloseWav" Content="Test" Width="120" Height="28" Margin="0,2,0,2"/>
                    </Grid>
                </GroupBox>

                <GroupBox Header="Grabación / STT (whisper.cpp)" Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="160"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <CheckBox Grid.Row="0" Grid.Column="0" x:Name="ChkSttEnabled" Content="Activar STT" Margin="0,2,0,8"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Foreground="Gray" TextWrapping="Wrap" Margin="0,0,0,8"
                                   Text="El audio se normaliza automáticamente a mono 16 kHz PCM16 antes de transcribir." />

                        <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Text="whisper-cli.exe:"/>
                        <TextBox Grid.Row="1" Grid.Column="1" x:Name="TxtWhisperExe" Height="28" Margin="0,2,8,2"/>
                        <Button Grid.Row="1" Grid.Column="2" x:Name="BtnPickWhisperExe" Content="Elegir" Width="120" Height="28" Margin="0,2,0,2"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Text="Modelo .bin:"/>
                        <TextBox Grid.Row="2" Grid.Column="1" x:Name="TxtWhisperModel" Height="28" Margin="0,2,8,2"/>
                        <Button Grid.Row="2" Grid.Column="2" x:Name="BtnPickWhisperModel" Content="Elegir" Width="120" Height="28" Margin="0,2,0,2"/>

                        <TextBlock Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" Text="Idioma:"/>
                        <TextBox Grid.Row="3" Grid.Column="1" x:Name="TxtWhisperLang" Height="28" Margin="0,2,0,2"/>

                        <TextBlock Grid.Row="4" Grid.Column="0" VerticalAlignment="Top" Text="Args extra:" Margin="0,6,0,0"/>
                        <TextBox Grid.Row="4" Grid.Column="1" x:Name="TxtWhisperArgs"
                                 Margin="0,2,0,2"
                                 AcceptsReturn="True" TextWrapping="Wrap"
                                 VerticalScrollBarVisibility="Auto"
                                 MinHeight="60"/>

                        <TextBlock Grid.Row="5" Grid.Column="1" Foreground="Gray" TextWrapping="Wrap" Margin="0,4,0,0"
                                   Text="Ejemplos: --vad  |  -bs 10 -bo 10  |  --prompt &quot;posición, neumáticos, combustible, box&quot;  |  --no-gpu" />
                    </Grid>
                </GroupBox>

                <GroupBox Header="Carpeta de grabaciones" Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="160"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Text="Carpeta:"/>
                        <TextBox Grid.Row="0" Grid.Column="1" x:Name="TxtRecordingsFolder" Height="28" Margin="0,2,8,2"/>
                        <Button Grid.Row="0" Grid.Column="2" x:Name="BtnPickRecordingsFolder" Content="Elegir" Width="120" Height="28" Margin="0,2,0,2"/>

                        <TextBlock Grid.Row="1" Grid.Column="1" Foreground="Gray" TextWrapping="Wrap" Margin="0,4,0,0"
                                   Text="Si lo dejas vacío, se guarda en %AppData%\FlashTelemetry\recordings\[profileId]" />
                    </Grid>
                </GroupBox>

                <GroupBox Header="Aliases de pilotos" Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <DataGrid x:Name="GridAliases" Grid.Row="0" AutoGenerateColumns="False" CanUserAddRows="False" MinHeight="160">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Original" Binding="{Binding Original}" Width="*"/>
                                <DataGridTextColumn Header="Alias" Binding="{Binding Alias}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>

                        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0">
                            <Button x:Name="BtnAddAlias" Content="Añadir" Width="120" Margin="0,0,8,0"/>
                            <Button x:Name="BtnRemoveAlias" Content="Quitar" Width="120"/>
                        </StackPanel>
                    </Grid>
                </GroupBox>

            </StackPanel>
        </ScrollViewer>

        <DockPanel Grid.Row="1" Margin="12">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="BtnCancel" Content="Cancelar" Width="120" Margin="0,0,8,0" IsCancel="True"/>
                <Button x:Name="BtnSave" Content="Guardar" Width="120" IsDefault="True"/>
            </StackPanel>
        </DockPanel>
    </Grid>
</Window>
